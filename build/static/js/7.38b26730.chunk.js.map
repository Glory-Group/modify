{"version":3,"sources":["views/main/text/listText/listText.tsx","webpack:///./src/views/main/text/listText/scss/listText.css?2e55","views/main/text/listText/scss/listText.css"],"names":["ListText","_super","props","_this","call","this","state","examTypeOptions","exam_id","subjectListOptions","subject_id","examList","startTime","endTime","columns","title","dataIndex","key","handleSubmit","e","preventDefault","form","validateFields","err","values","Object","__WEBPACK_IMPORTED_MODULE_0_tslib__","console","log","exangeDate","date","time","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getExamList","text","getExamListAction","result","_a","sent","code","exam","map","item","index","start_time","end_time","setState","getExamType","question","getType","examTypeList_1","data","push","value","exam_name","label","id","onChangeExamType","getSubject","subjectList_1","subject_text","onChangeSubjectType","prototype","render","__WEBPACK_IMPORTED_MODULE_1_react__","className","__WEBPACK_IMPORTED_MODULE_2_antd__","onSubmit","Item","options","onChange","placeholder","type","dataSource","__WEBPACK_IMPORTED_MODULE_3_mobx_react__","__webpack_exports__","create","name","content","__webpack_require__","module","i","hmr","transform","locals","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/7.38b26730.chunk.js","sourcesContent":["import * as React from 'react'\r\nimport { Form, Input, Cascader, InputNumber, Button, DatePicker,Table } from 'antd';\r\nimport { observer, inject } from \"mobx-react\";\r\nimport \"./scss/listText.css\"\r\ninterface propsInfo {\r\n    form: any,\r\n    question: any,\r\n    text: any\r\n\r\n}\r\n@inject(\"question\", \"login\", \"text\")\r\n@observer\r\nexport class ListText extends React.Component<propsInfo> {\r\n    state = {\r\n        examTypeOptions: [],\r\n        exam_id: \"\",//考试类型id\r\n        subjectListOptions: [],\r\n        subject_id: \"\",//课程id\r\n        examList: [],\r\n        startTime:\"\",\r\n        endTime:\"\",\r\n        columns: [\r\n            {\r\n                title: '试卷信息',\r\n                dataIndex: 'title',\r\n                key: 'title',\r\n            },\r\n            {\r\n                title: '班级',\r\n                dataIndex: 'grade_name',\r\n                key: 'grade_name',\r\n            },\r\n            {\r\n                title: '创建人',\r\n                dataIndex: 'user_name',\r\n                key: 'user_name',\r\n            },\r\n            {\r\n                title: '开始时间',\r\n                dataIndex: \"startTime\",\r\n                key: 'startTime',\r\n            },\r\n            {\r\n                title: '结束时间',\r\n                dataIndex: 'endTime',\r\n                key: 'endTime',\r\n            },\r\n            {\r\n                title: '操作',\r\n                dataIndex: 'questions_type_text',\r\n                key: 'questions_type_text',\r\n            }\r\n\r\n        ],\r\n    }\r\n    constructor(props: propsInfo) {\r\n        super(props)\r\n        this.getExamType()\r\n        this.getSubject()\r\n        this.getExamList()\r\n\r\n    }\r\n    handleSubmit = (e: any) => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields(async (err: Error, values: any) => {\r\n            if (!err) {\r\n                console.log(values, \"values\")\r\n            }\r\n        });\r\n    };\r\n    exangeDate=(date:any)=>{\r\n        var time=new Date(date)\r\n        var y = time.getFullYear();\r\n        var M = time.getMonth() + 1;\r\n        var d = time.getDate();\r\n        var h = time.getHours();\r\n        var m = time.getMinutes();\r\n        var s = time.getSeconds();\r\n        return `${y}-${M}-${d}-${h} ${m}-${s}`\r\n      \r\n    }\r\n    getExamList = async () => {\r\n        let result = await this.props.text.getExamListAction()\r\n        if (result.code === 1) {\r\n            let {examList}=this.state\r\n            result.exam.map((item:any,index:number)=>{\r\n                item.key=index\r\n                item.startTime=this.exangeDate(result.exam[0].start_time*1)\r\n                item.endTime=this.exangeDate(result.exam[0].end_time*1)\r\n            })\r\n            console.log(result.exam[0].start_time)\r\n      \r\n            this.setState({\r\n                examList: result.exam\r\n            })\r\n \r\n\r\n        }\r\n    }\r\n    getExamType = async () => {\r\n        let result = await this.props.question.getType()\r\n        if (result.code === 1) {\r\n            let examTypeList: any = []\r\n            result.data.map((item: any, index: number) => {\r\n                examTypeList.push({ value: item.exam_name, label: item.exam_name, id: item.exam_id, key: item.exam_id })\r\n                return examTypeList\r\n            })\r\n            this.setState({\r\n                examTypeOptions: examTypeList\r\n            })\r\n        }\r\n    }\r\n    onChangeExamType = (value: any, item: any) => {\r\n        this.setState({\r\n            exam_id: item[0].id\r\n        })\r\n    }\r\n    getSubject = async () => {\r\n        let result = await this.props.question.getSubject()\r\n        if (result.code === 1) {\r\n            let subjectList: any = []\r\n            result.data.map((item: any, index: number) => {\r\n                subjectList.push({ value: item.subject_text, label: item.subject_text, id: item.subject_id, key: item.subject_id })\r\n                return subjectList\r\n            })\r\n            this.setState({\r\n                subjectListOptions: subjectList\r\n            })\r\n        }\r\n\r\n    }\r\n    onChangeSubjectType = (value: any, item: any) => {\r\n        this.setState({\r\n            subject_id: item[0].id\r\n        })\r\n    }\r\n    public render() {\r\n        let { examTypeOptions, subjectListOptions,columns,examList} = this.state\r\n        return (\r\n            <div>\r\n                <div className=\"title\">\r\n                    试卷列表\r\n                </div>\r\n                <div className=\"content-box\">\r\n                    <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n                        <Form.Item className=\"login-form-stem\">\r\n                            <span>考试类型:</span>\r\n                            <Cascader options={examTypeOptions} onChange={this.onChangeExamType} placeholder=\"选择考试类型\"\r\n                                className=\"select-box\"\r\n                            />\r\n                            <span>课程:</span>\r\n                            <Cascader options={subjectListOptions} onChange={this.onChangeSubjectType} placeholder=\"选择课程类型\"\r\n                                className=\"select-box\"\r\n                            />\r\n                            <Button type=\"primary\">\r\n                                查询\r\n                            </Button>\r\n                        </Form.Item>\r\n\r\n                    </Form>\r\n                    <div className=\"exam-list\">\r\n                        <div className=\"sub-title\">\r\n                            <span>试卷列表</span>\r\n\r\n                        </div>\r\n                        <div>\r\n                        <Table columns={columns} dataSource={examList} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Form.create({ name: 'normal_login' })(ListText)\n\n\n// WEBPACK FOOTER //\n// ./src/views/main/text/listText/listText.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/_css-loader@0.28.7@css-loader/index.js??ref--1-oneOf-3-2!../../../../../../node_modules/_postcss-loader@2.0.8@postcss-loader/lib/index.js??postcss!./listText.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/_style-loader@0.19.0@style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/main/text/listText/scss/listText.css\n// module id = 1186\n// module chunks = 7","exports = module.exports = require(\"../../../../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"*{padding:0;margin:0;list-style:none;-webkit-box-sizing:border-box;box-sizing:border-box}.content-box{background-color:transparent}.exam-list,.login-form{background-color:#fff;padding:24px;border-radius:5px}.exam-list{margin-top:20px}.select-box{display:inline-block;width:176px!important;margin-right:50px;margin-left:8px}\", \"\", {\"version\":3,\"sources\":[\"D:/学习/实训一/项目/Project/src/views/main/text/listText/scss/listText.css\"],\"names\":[],\"mappings\":\"AAAA,EACE,UAAW,AACX,SAAU,AACV,gBAAiB,AACjB,8BAA+B,AACvB,qBAAuB,CAChC,AAED,aACE,4BAA8B,CAC/B,AAQD,uBALE,sBAAuB,AACvB,aAAc,AACd,iBAAmB,CAQpB,AALD,WAGE,eAAiB,CAElB,AAED,YACE,qBAAsB,AACtB,sBAAwB,AACxB,kBAAmB,AACnB,eAAiB,CAClB\",\"file\":\"listText.css\",\"sourcesContent\":[\"* {\\r\\n  padding: 0;\\r\\n  margin: 0;\\r\\n  list-style: none;\\r\\n  -webkit-box-sizing: border-box;\\r\\n          box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.content-box {\\r\\n  background-color: transparent;\\r\\n}\\r\\n\\r\\n.login-form {\\r\\n  background-color: #fff;\\r\\n  padding: 24px;\\r\\n  border-radius: 5px;\\r\\n}\\r\\n\\r\\n.exam-list {\\r\\n  background-color: #fff;\\r\\n  padding: 24px;\\r\\n  margin-top: 20px;\\r\\n  border-radius: 5px;\\r\\n}\\r\\n\\r\\n.select-box {\\r\\n  display: inline-block;\\r\\n  width: 176px !important;\\r\\n  margin-right: 50px;\\r\\n  margin-left: 8px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.7@css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/_postcss-loader@2.0.8@postcss-loader/lib?{\"ident\":\"postcss\"}!./src/views/main/text/listText/scss/listText.css\n// module id = 1187\n// module chunks = 7"],"sourceRoot":""}