webpackJsonp([17],{1146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"AddText",function(){return c});var a=n(37),i=n(0),s=(n.n(i),n(226)),l=n(225),r=n(20),o=n.n(r),c=(s.e.RangePicker,function(e){function t(t){var n=e.call(this,t)||this;return n.state={examTypeOptions:[],exam_id:"",subjectListOptions:[],subject_id:"",number:4,startValue:o()().startOf("day"),endValue:o()().startOf("day"),endOpen:!1},n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){return Object(a.b)(n,void 0,void 0,function(){var n,i,s,l,r,c,u,m,d,h;return Object(a.e)(this,function(a){switch(a.label){case 0:return e?[3,2]:(n=this.state,i=n.exam_id,s=n.subject_id,l=n.number,r=n.startValue,c=n.endValue,u=t.title,m=+o()(r).format("x"),d=+o()(c).format("x"),h={subject_id:s,exam_id:i,title:u,number:l,start_time:m,end_time:d},[4,this.props.text.createTextAction(h)]);case 1:1===a.sent().code&&this.props.history.push("/main/text/createTextPaper"),a.label=2;case 2:return[2]}})})})},n.getExamType=function(){return Object(a.b)(n,void 0,void 0,function(){var e,t;return Object(a.e)(this,function(n){switch(n.label){case 0:return[4,this.props.question.getType()];case 1:return 1===(e=n.sent()).code&&(t=[],e.data.map(function(e,n){return t.push({value:e.exam_name,label:e.exam_name,id:e.exam_id,key:e.exam_id}),t}),this.setState({examTypeOptions:t})),[2]}})})},n.onChangeExamType=function(e,t){n.setState({exam_id:t[0].id})},n.getSubject=function(){return Object(a.b)(n,void 0,void 0,function(){var e,t;return Object(a.e)(this,function(n){switch(n.label){case 0:return[4,this.props.question.getSubject()];case 1:return 1===(e=n.sent()).code&&(t=[],e.data.map(function(e,n){return t.push({value:e.subject_text,label:e.subject_text,id:e.subject_id,key:e.subject_id}),t}),this.setState({subjectListOptions:t})),[2]}})})},n.onChangeSubjectType=function(e,t){n.setState({subject_id:t[0].id})},n.onChangeNum=function(e){n.setState({number:e})},n.disabledStartDate=function(e){var t=n.state.endValue;return!(!e||!t)&&e.valueOf()>t.valueOf()},n.disabledEndDate=function(e){var t=n.state.startValue;return!(!e||!t)&&e.valueOf()<=t.valueOf()},n.onChange=function(e,t){var a;n.setState(((a={})[e]=t,a))},n.onStartChange=function(e){n.onChange("startValue",e)},n.onEndChange=function(e){n.onChange("endValue",e)},n.handleStartOpenChange=function(e){e||n.setState({endOpen:!0})},n.handleEndOpenChange=function(e){n.setState({endOpen:e})},n.getExamType(),n.getSubject(),n}return Object(a.d)(t,e),t.prototype.render=function(){var e=this.props.form.getFieldDecorator,t=this.state,n=t.examTypeOptions,a=t.subjectListOptions,l=t.startValue,r=t.endValue,o=t.endOpen;return i.createElement("div",null,i.createElement("div",{className:"title"},"\u6dfb\u52a0\u8003\u8bd5"),i.createElement("div",{className:"content-box"},i.createElement(s.h,{onSubmit:this.handleSubmit,className:"login-form content-box"},i.createElement(s.h.Item,{className:"login-form-stem"},i.createElement("span",null,"\u8bd5\u5377\u540d\u79f0"),e("title",{validateTrigger:"onBlur",rules:[{required:!0,message:"Please input text title!"}]})(i.createElement(s.j,{placeholder:"\u8bf7\u8f93\u5165\u8bd5\u5377\u540d\u79f0",style:{width:"500px",display:"block",marginTop:"10px"}}))),i.createElement(s.h.Item,{className:"login-form-stem",style:{width:"176px"}},i.createElement("span",null,"\u9009\u62e9\u8003\u8bd5\u7c7b\u578b"),i.createElement(s.c,{options:n,onChange:this.onChangeExamType,placeholder:"\u9009\u62e9\u8003\u8bd5\u7c7b\u578b"})),i.createElement(s.h.Item,{className:"login-form-stem",style:{width:"176px"}},i.createElement("span",null,"\u8bf7\u9009\u62e9\u8bfe\u7a0b\u7c7b\u578b"),i.createElement(s.c,{options:a,onChange:this.onChangeSubjectType,placeholder:"\u9009\u62e9\u8bfe\u7a0b\u7c7b\u578b"})),i.createElement(s.h.Item,null,i.createElement("span",null,"\u8bbe\u7f6e\u9898\u91cf"),i.createElement(s.k,{min:3,max:10,defaultValue:3,onChange:this.onChangeNum,style:{width:"100px",display:"block",marginTop:"10px"}})),i.createElement(s.h.Item,null,i.createElement("span",null,"\u8003\u8bd5\u65f6\u95f4"),i.createElement("div",null,i.createElement("div",null,i.createElement(s.e,{disabledDate:this.disabledStartDate,showTime:!0,format:"YYYY-MM-DD HH:mm:ss",value:l,placeholder:"Start",onChange:this.onStartChange,onOpenChange:this.handleStartOpenChange}),i.createElement(s.e,{disabledDate:this.disabledEndDate,showTime:!0,format:"YYYY-MM-DD HH:mm:ss",value:r,placeholder:"End",onChange:this.onEndChange,open:o,onOpenChange:this.handleEndOpenChange})))),i.createElement(s.h.Item,null,i.createElement(s.b,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u521b\u5efa\u8bd5\u5377")))))},t=Object(a.c)([Object(l.b)("question","login","text"),l.c,Object(a.f)("design:paramtypes",[Object])],t)}(i.Component));t.default=s.h.create({name:"normal_login"})(c)}});
//# sourceMappingURL=17.57941fb8.chunk.js.map