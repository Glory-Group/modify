webpackJsonp([20],{1142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ClassRoom",function(){return a});var o=n(37),r=n(0),i=(n.n(r),n(225)),s=n(226),a=(s.p.Option,function(e){function t(t){var n=e.call(this,t)||this;return n.state={roomList:[],ModalText:"Content of the modal",visible:!1,confirmLoading:!1,columns:[{title:"\u6559\u5ba4\u53f7",dataIndex:"room_text",key:"room_id"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return r.createElement("span",null,r.createElement("a",{onClick:function(){n.delRoom(e,t)}},"\u5220\u9664"))}}]},n.getList=function(){return Object(o.b)(n,void 0,void 0,function(){var e;return Object(o.e)(this,function(t){switch(t.label){case 0:return[4,this.props.classType.getTabAction("/manger/room")];case 1:return 1===(e=t.sent()).code?(e.data.map(function(e,t){return e.key=t}),this.setState({roomList:e.data})):s.s.error(e.msg),[2]}})})},n.showModal=function(){n.setState({visible:!0})},n.delRoom=function(e,t){return Object(o.b)(n,void 0,void 0,function(){var t;return Object(o.e)(this,function(n){switch(n.label){case 0:return[4,this.props.classType.delRoomAction({room_id:e.room_id})];case 1:return 1===(t=n.sent()).code&&(s.s.info(t.msg),this.getList()),[2]}})})},n.handleOk=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){return Object(o.b)(n,void 0,void 0,function(){var n,r=this;return Object(o.e)(this,function(o){switch(o.label){case 0:return e?[3,2]:(console.log(t),[4,this.props.classType.addListAction("/manger/room",t)]);case 1:1===(n=o.sent()).code?(s.s.info(n.msg),this.props.history.go(0),this.setState({confirmLoading:!0}),setTimeout(function(){r.setState({visible:!1,confirmLoading:!1})},2e3)):s.s.error(n.msg),o.label=2;case 2:return[2]}})})})},n.handleCancel=function(){n.setState({visible:!1})},n.getList(),n}return Object(o.d)(t,e),t.prototype.render=function(){var e=this.state,t=e.roomList,n=e.visible,o=e.confirmLoading,i=e.columns,a=this.props.form.getFieldDecorator;return r.createElement("div",null,r.createElement("div",{className:"title"},"\u73ed\u7ea7\u7ba1\u7406"),r.createElement("div",{className:"content-box"},r.createElement(s.b,{type:"primary",onClick:this.showModal,style:{margin:"10px",width:158,height:40,background:"#0139fd"}},"\u6dfb\u52a0\u6559\u5ba4"),r.createElement(s.n,{title:"\u6dfb\u52a0\u6559\u5ba4",visible:n,onOk:this.handleOk,confirmLoading:o,onCancel:this.handleCancel,cancelText:"\u53d6\u6d88",okText:"\u63d0\u4ea4",okType:"primary"},r.createElement(s.h.Item,{label:"\u6559\u5ba4\u53f7"},a("room_text",{rules:[{required:!0,message:"Userquestions Classname!"}]})(r.createElement(s.j,{prefix:r.createElement(s.i,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u6559\u5ba4\u540d"})))),r.createElement(s.q,{columns:i,dataSource:t})))},t=Object(o.c)([Object(i.b)("classType"),i.c,Object(o.f)("design:paramtypes",[Object])],t)}(r.Component));t.default=s.h.create({name:"classRoom"})(a)}});
//# sourceMappingURL=20.ef918290.chunk.js.map